{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import \"./Room.ext\";\n\nimport { Server } from \"@colyseus/core\";\nimport { ArenaOptions, listen } from \"@colyseus/arena\";\nimport { ColyseusTestServer } from \"./TestServer\";\n\nconst DEFAULT_TEST_PORT = 2568;\n\nexport async function boot(config: ArenaOptions | Server, port: number = DEFAULT_TEST_PORT) {\n  if (config instanceof Server) {\n    const gameServer = config;\n    await gameServer.listen(DEFAULT_TEST_PORT);\n    return new ColyseusTestServer(gameServer);\n\n  } else {\n    if (!config.options) { config.options = {}; }\n\n    // override server options for testing.\n    config.options.gracefullyShutdown = false;\n\n    // Force LocalDriver & LocalPresence ??\n    // config.options.driver = new LocalDriver();\n    // config.options.presence = new LocalPresence();\n\n    const gameServer = await listen({ ...config, displayLogs: false, }, port);\n    return new ColyseusTestServer(gameServer);\n  }\n}\n\nexport { ColyseusTestServer };"],"names":["Server","ColyseusTestServer","listen"],"mappings":";;;;;;;;;AAMA,MAAM,iBAAiB,GAAG,IAAI,CAAC;AAExB,eAAe,IAAI,CAAC,MAA6B,EAAE,OAAe,iBAAiB;IACxF,IAAI,MAAM,YAAYA,WAAM,EAAE;QAC5B,MAAM,UAAU,GAAG,MAAM,CAAC;QAC1B,MAAM,UAAU,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC3C,OAAO,IAAIC,6BAAkB,CAAC,UAAU,CAAC,CAAC;KAE3C;SAAM;QACL,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YAAE,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;SAAE;;QAG7C,MAAM,CAAC,OAAO,CAAC,kBAAkB,GAAG,KAAK,CAAC;;;;QAM1C,MAAM,UAAU,GAAG,MAAMC,YAAM,CAAC,EAAE,GAAG,MAAM,EAAE,WAAW,EAAE,KAAK,GAAG,EAAE,IAAI,CAAC,CAAC;QAC1E,OAAO,IAAID,6BAAkB,CAAC,UAAU,CAAC,CAAC;KAC3C;AACH;;;;;"}